# Wine Collector App - MVP 요구사항 정의서

## 1. 개요

### 1.1 서비스 비전
> "내 와인 셀러를 AI가 관리해주고, 완벽한 페어링을 추천해주는 개인 소믈리에"

### 1.2 타겟 사용자
| 항목 | 내용 |
|------|------|
| 주 타겟 | 와인 애호가 (50~300병 이상 보유자) |
| 연령대 | 35-55세 |
| 특징 | 와인셀러 또는 별도 보관 공간 보유 |
| 구매 패턴 | 월 2-5병 이상 정기적 구매 |
| 지식 수준 | 품종, 지역별 특성 어느정도 이해 |

### 1.3 핵심 페인 포인트
1. **"내가 뭘 가지고 있더라?"** - 셀러에 뭐가 있는지 기억이 안 남
2. **"이거 언제 마셔야 하지?"** - 숙성 피크 타이밍을 놓침
3. **"오늘 저녁에 뭘 열지?"** - 어떤 와인이 맞을지 선택 어려움
4. **"똑같은 거 또 샀네..."** - 중복 구매 발생
5. **"이 와인 어디에 뒀지?"** - 물리적 위치 파악 어려움

---

## 2. MVP 핵심 기능

### 2.1 와인 스캔 & 등록

#### 2.1.1 일괄 스캔 모드 (Batch Scan)
- **기능 설명**: 테이블 등에 여러 병의 와인을 올려두고 한 번의 촬영으로 다수의 와인을 동시에 인식하여 등록
- **사용 시나리오**: 초기 셀러 등록, 대량 구매 후 등록
- **상세 요구사항**:
  - 한 프레임에서 복수의 와인 라벨 인식
  - 인식된 각 와인을 개별 카드로 표시
  - 사용자가 인식 결과를 확인 후 일괄 저장

#### 2.1.2 연속 촬영 모드 (Continuous Scan)
- **기능 설명**: 카메라를 계속 활성화한 상태에서 와인을 순차적으로 촬영하여 등록
- **사용 시나리오**: 셀러를 돌아다니며 하나씩 등록
- **상세 요구사항**:
  - 촬영 후 즉시 다음 촬영 대기 상태 유지
  - 촬영된 와인 목록 하단에 썸네일로 표시
  - 세션 종료 시 일괄 확인 및 저장

#### 2.1.3 AI 라벨 인식 및 정보 추출
- **자동 추출 정보**:
  - 와인 이름 (Wine Name)
  - 생산자 (Producer/Winery)
  - 빈티지 (Vintage Year)
  - 품종 (Grape Variety)
  - 원산지/지역 (Region/Appellation)
  - 알코올 도수 (ABV)
- **AI 보강 정보**:
  - 맛 프로필 (바디, 탄닌, 산도, 당도)
  - 추천 음식 페어링
  - 적정 음용 온도
  - 추천 음용 기간 (Drinking Window)

#### 2.1.4 등록 정보 입력
- **필수 정보**: 없음 (AI 인식 결과만으로 등록 가능)
- **선택 정보**:
  - 구매 금액 (비워둘 수 있음)
  - 구매 날짜 (비워둘 수 있음)
  - 보관 위치 태그
  - 수량 (기본값: 1)
  - 개인 메모

---

### 2.2 셀러 인벤토리 관리

#### 2.2.1 대시보드
- **표시 정보**:
  - 총 보유 와인 수량
  - 타입별 분포 (레드/화이트/로제/스파클링)
  - 국가별/품종별 분포 차트
  - "곧 마셔야 할 와인" 알림 섹션

#### 2.2.2 와인 목록
- **뷰 옵션**: 그리드뷰 / 리스트뷰
- **검색**: 와인명, 생산자, 품종, 지역 통합 검색
- **필터링**:
  - 와인 타입 (레드/화이트/로제/스파클링/기타)
  - 국가/지역
  - 품종
  - 보관 위치 (셀러 태그)
  - 음용 적기 상태
- **정렬**: 등록일, 빈티지, 가격, 음용적기

#### 2.2.3 와인 상세 정보
- **기본 정보 표시**: AI 추출 정보 + 사용자 입력 정보
- **상태 관리**: 보유중 / 마심(Consumed) / 선물함
- **수량 관리**: 동일 와인 복수 보유 시 수량 조절
- **편집 기능**: 모든 정보 수정 가능

#### 2.2.4 보관 위치 태그 시스템
- **셀러 태그**: 복수의 셀러(보관장소) 등록 가능
  - 예: "거실 셀러", "지하 셀러", "주방 와인냉장고"
- **위치 태그**: 자유 형식의 태그 추가
  - 예: "A열", "3층", "왼쪽", "특별보관"
- **태그 관리**: 태그 생성, 수정, 삭제, 색상 지정

---

### 2.3 AI 페어링 & 추천

#### 2.3.1 음식 기반 추천
- **입력 방식**: 텍스트로 음식/상황 입력
- **추천 결과**:
  - 내 컬렉션에서 Best Match 와인 (1순위)
  - 대안 와인 2-3개
  - 각 추천에 대한 매칭 이유 설명

#### 2.3.2 상황 기반 추천
- **지원 상황 예시**:
  - "오늘 스테이크 먹어요"
  - "손님 4명, 이탈리안 레스토랑 느낌"
  - "가볍게 혼술"
  - "기념일 디너"
- **추천 로직 우선순위**:
  1. 음식/상황과의 페어링 적합도
  2. 음용 적기 임박 와인 우선
  3. 오래 보관한 와인 리마인드

#### 2.3.3 중복 구매 방지 (와인샵 스캔)
- **기능**: 와인샵에서 새 와인 스캔 시 보유 여부 확인
- **표시 정보**:
  - "이 와인 이미 N병 보유 중"
  - 보유 중인 와인의 빈티지 정보
  - 구매 추천 여부

---

## 3. 화면 구성

### 3.1 메인 네비게이션
```
[홈/대시보드] - [스캔] - [내 셀러] - [프로필/설정]
```

### 3.2 주요 화면 목록
| 화면 | 설명 |
|------|------|
| 홈 (대시보드) | 셀러 현황 요약, 음용적기 알림, 빠른 추천 입력 |
| 스캔 | 카메라 뷰, 일괄/연속 모드 전환 |
| 스캔 결과 | 인식된 와인 목록, 정보 확인 및 수정 |
| 내 셀러 (목록) | 전체 와인 목록, 검색/필터 |
| 와인 상세 | 개별 와인 상세 정보, 상태 변경 |
| 추천 결과 | AI 추천 와인 목록 및 매칭 이유 |
| 설정 | 태그 관리, 알림 설정, 계정 관리 |

---

## 4. 데이터 모델 (개념)

### 4.1 Wine (와인)
```
- id: 고유 식별자
- name: 와인명
- producer: 생산자
- vintage: 빈티지 연도
- grape_variety: 품종 (복수 가능)
- region: 지역
- country: 국가
- abv: 알코올 도수
- type: 와인 타입 (red/white/rose/sparkling/other)
- taste_profile: 맛 프로필 (body, tannin, acidity, sweetness)
- food_pairing: 추천 음식 목록
- drinking_window_start: 음용적기 시작
- drinking_window_end: 음용적기 종료
- serving_temperature: 적정 온도
- image_url: 라벨 이미지
- created_at: 등록일
```

### 4.2 UserWine (사용자 보유 와인)
```
- id: 고유 식별자
- user_id: 사용자 ID
- wine_id: 와인 ID
- quantity: 수량
- purchase_date: 구매일 (nullable)
- purchase_price: 구매가격 (nullable)
- status: 상태 (owned/consumed/gifted)
- location_tags: 보관위치 태그 목록
- personal_note: 개인 메모
- created_at: 등록일
- updated_at: 수정일
```

### 4.3 Tag (태그)
```
- id: 고유 식별자
- user_id: 사용자 ID
- name: 태그명
- type: 태그 타입 (cellar/location/custom)
- color: 태그 색상
- created_at: 생성일
```

---

## 5. 기술 요구사항

### 5.1 AI/ML 요구사항
- 와인 라벨 이미지에서 텍스트 및 정보 추출 (OCR + NLP)
- 복수 라벨 동시 인식 (Object Detection)
- 와인 정보 기반 페어링 추천 (LLM)

### 5.2 플랫폼
- 모바일 앱 (iOS / Android)
- 카메라 접근 권한 필요

### 5.3 주요 기술 스택 (제안)
| 영역 | 기술 |
|------|------|
| Frontend | React Native 또는 Flutter |
| Backend | Node.js/Express 또는 Python/FastAPI |
| Database | PostgreSQL |
| AI | Claude Vision API / GPT-4 Vision |
| Storage | S3 또는 Supabase Storage |

---

## 6. MVP 범위 외 (Phase 2+)

다음 기능들은 MVP 이후 단계에서 고려:

- 음식 사진 촬영을 통한 페어링 추천
- 와인 소비 통계 및 취향 분석
- 온라인 가격 비교
- 와인 다이어리 (테이스팅 노트, 별점)
- 친구와 공유 기능
- 스마트 알림 (음용적기, 기념일 등)
- 와인 구매 추천 (미보유 와인)
- 셀러 사진에 핀 찍기 (시각적 위치 관리)

---

## 7. 성공 지표 (KPI)

| 지표 | 목표 |
|------|------|
| 등록 완료율 | 온보딩 후 10병 이상 등록 비율 > 60% |
| 주간 활성 사용률 | WAU/MAU > 40% |
| 추천 사용률 | 월 4회 이상 추천 기능 사용 > 50% |
| 리텐션 | D30 리텐션 > 30% |

---

## 부록: 용어 정의

| 용어 | 정의 |
|------|------|
| 빈티지 (Vintage) | 와인 포도 수확 연도 |
| 음용 적기 (Drinking Window) | 와인을 마시기에 최적인 기간 |
| 페어링 (Pairing) | 와인과 음식의 조합 |
| 셀러 (Cellar) | 와인 보관 장소/냉장고 |
| 테이스팅 노트 | 와인 시음 후 기록하는 맛과 향 메모 |
